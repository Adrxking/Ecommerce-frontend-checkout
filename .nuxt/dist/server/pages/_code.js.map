{"version":3,"file":"pages/_code.js","sources":["webpack:///./pages/_code.vue?110b","webpack:///./pages/_code.vue?bca2","webpack:///./pages/_code.vue?03b6","webpack:///./pages/_code.vue?cee6","webpack:///./pages/_code.vue?599d","webpack:///./pages/_code.vue?1194","webpack:///./pages/_code.vue"],"sourcesContent":["// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../node_modules/css-loader/dist/cjs.js??ref--3-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--3-oneOf-1-2!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./_code.vue?vue&type=style&index=0&lang=css&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = require(\"!../node_modules/vue-style-loader/lib/addStylesServer.js\").default\nmodule.exports.__inject__ = function (context) {\n  add(\"2f81bacc\", content, true, context)\n};","export * from \"-!../node_modules/vue-style-loader/index.js??ref--3-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--3-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--3-oneOf-1-2!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./_code.vue?vue&type=style&index=0&lang=css&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".quantity{width:65px}\", \"\"]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_vm._ssrNode(\"<main><div class=\\\"py-5 text-center\\\"><h2>Welcome</h2> <p class=\\\"lead\\\">\"+_vm._ssrEscape(_vm._s(_vm.user.first_name)+\" has invited you to buy these products!\")+\"</p></div> <div class=\\\"row g-5\\\"><div class=\\\"col-md-5 col-lg-4 order-md-last\\\"><h4 class=\\\"d-flex justify-content-between align-items-center mb-3\\\"><span class=\\\"text-primary\\\">Products</span></h4> <ul class=\\\"list-group mb-3\\\">\"+(_vm._ssrList((_vm.products),function(product){return (\"<li class=\\\"list-group-item d-flex justify-content-between lh-sm\\\"><div><h6 class=\\\"my-0\\\">\"+_vm._ssrEscape(_vm._s(product.title))+\"</h6> <small class=\\\"text-muted\\\">\"+_vm._ssrEscape(_vm._s(product.description))+\"</small></div> <span class=\\\"text-muted\\\">\"+_vm._ssrEscape(_vm._s(product.price))+\"</span></li> <li class=\\\"list-group-item d-flex justify-content-between lh-sm\\\"><div><h6 class=\\\"my-0\\\">Quantity</h6></div> <input type=\\\"number\\\" min=\\\"0\\\"\"+(_vm._ssrAttr(\"value\",(_vm.quantities[product.id])))+\" class=\\\"text-muted form-control quantity\\\"></li>\")}))+\" <li class=\\\"list-group-item d-flex justify-content-between\\\"><span>Total (USD)</span> <strong>\"+_vm._ssrEscape(\"$\"+_vm._s(_vm.total))+\"</strong></li></ul></div> <div class=\\\"col-md-7 col-lg-8\\\"><h4 class=\\\"mb-3\\\">Personal info</h4> <form class=\\\"needs-validation\\\"><div class=\\\"row g-3\\\"><div class=\\\"col-sm-6\\\"><label for=\\\"firstName\\\" class=\\\"form-label\\\">First name</label> <input type=\\\"text\\\" id=\\\"firstName\\\" placeholder=\\\"First Name\\\" required=\\\"required\\\"\"+(_vm._ssrAttr(\"value\",(_vm.first_name)))+\" class=\\\"form-control\\\"></div> <div class=\\\"col-sm-6\\\"><label for=\\\"lastName\\\" class=\\\"form-label\\\">Last name</label> <input type=\\\"text\\\" id=\\\"lastName\\\" placeholder=\\\"Last Name\\\" required=\\\"required\\\"\"+(_vm._ssrAttr(\"value\",(_vm.last_name)))+\" class=\\\"form-control\\\"></div> <div class=\\\"col-12\\\"><label for=\\\"email\\\" class=\\\"form-label\\\">Email</label> <input type=\\\"email\\\" id=\\\"email\\\" placeholder=\\\"you@example.com\\\"\"+(_vm._ssrAttr(\"value\",(_vm.email)))+\" class=\\\"form-control\\\"></div> <div class=\\\"col-12\\\"><label for=\\\"address\\\" class=\\\"form-label\\\">Address</label> <input type=\\\"text\\\" id=\\\"address\\\" placeholder=\\\"1234 Main St\\\" required=\\\"required\\\"\"+(_vm._ssrAttr(\"value\",(_vm.address)))+\" class=\\\"form-control\\\"></div> <div class=\\\"col-md-5\\\"><label for=\\\"country\\\" class=\\\"form-label\\\">Country</label> <input type=\\\"text\\\" id=\\\"country\\\" placeholder=\\\"Country\\\"\"+(_vm._ssrAttr(\"value\",(_vm.country)))+\" class=\\\"form-control\\\"></div> <div class=\\\"col-md-4\\\"><label for=\\\"city\\\" class=\\\"form-label\\\">City</label> <input type=\\\"text\\\" id=\\\"city\\\" placeholder=\\\"City\\\"\"+(_vm._ssrAttr(\"value\",(_vm.city)))+\" class=\\\"form-control\\\"></div> <div class=\\\"col-md-3\\\"><label for=\\\"zip\\\" class=\\\"form-label\\\">Zip</label> <input type=\\\"text\\\" id=\\\"zip\\\" placeholder=\\\"Zip\\\"\"+(_vm._ssrAttr(\"value\",(_vm.zip)))+\" class=\\\"form-control\\\"></div></div> <hr class=\\\"my-4\\\"> <button type=\\\"submit\\\" class=\\\"w-100 btn btn-primary btn-lg\\\">Checkout</button></form></div></div></main>\")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue'\nimport {Context} from \"@nuxt/types\"\n\nexport default Vue.extend({\n  // Async allow us to render the data in the server\n  async asyncData(ctx: Context) {\n    const {data} = await ctx.$axios.get(`links/${ctx.params.code}`);\n\n    const user = data.user;\n    const products = data.products;\n    let quantities: any[] = [];\n\n    products.forEach((p: any) => {\n      quantities[p.id] = 0;\n    });\n\n    return {\n      user,\n      products,\n      quantities\n    }\n  },\n  data() {\n    return {\n      user: null,\n      products: [],\n      quantities: [],\n      first_name: '',\n      last_name: '',\n      email: '',\n      address: '',\n      country: '',\n      city: '',\n      zip: '',\n    }\n  },\n  methods: {\n    async submit() {\n      const {data} = await this.$axios.post('orders', {\n        first_name: this.first_name,\n        last_name: this.last_name,\n        email: this.email,\n        address: this.address,\n        country: this.country,\n        city: this.city,\n        zip: this.zip,\n        code: this.$route.params.code,\n        products: this.products.map((p: any) => ({\n          product_id: p.id,\n          quantity: this.quantities[p.id]\n        }))\n      })\n    },\n    total() {\n      return this.products.reduce((s: number, p: any) => {\n        return s + p.price * this.quantities[p.id];\n      }, 0);\n    },\n  }\n})\n","import mod from \"-!../node_modules/babel-loader/lib/index.js??ref--12-0!../node_modules/ts-loader/index.js??ref--12-1!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./_code.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/babel-loader/lib/index.js??ref--12-0!../node_modules/ts-loader/index.js??ref--12-1!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./_code.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./_code.vue?vue&type=template&id=0737672e&\"\nimport script from \"./_code.vue?vue&type=script&lang=ts&\"\nexport * from \"./_code.vue?vue&type=script&lang=ts&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./_code.vue?vue&type=style&index=0&lang=css&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  \"315b767d\"\n  \n)\n\nexport default component.exports"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACXA;AAAA;AAAA;AAAA;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACNA;AACA;AACA;;;;;;;;;ACsFA;AAGA;AACA;AACA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAHA;AAKA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAVA;AAYA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AATA;AAcA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAtBA;AAjCA;;AC3FA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}